<!-- <app-book-new (newBook)='onCreate($event)'></app-book-new> -->


<section>
  <table class='table table-striped'>
    <thead>
      <th>
        <input type="text" placeholder="id" [(ngModel)]='filter.id'>
        <button *ngIf='filter.id' (click)='filter.id = null' class='clear'>x</button>
      </th>
      <th>
        <input type="text" placeholder="title" [(ngModel)]='filter.title'>
        <button *ngIf='filter.title' (click)='filter.title = null' class='clear'>x</button>
      </th>
      <th>
        <input type="text" placeholder="author" [(ngModel)]='filter.author'>
        <button *ngIf='filter.author' (click)='filter.author = null' class='clear'>x</button>
      </th>
      <th>
        <input type="text" placeholder="year" [(ngModel)]='filter.year'>
        <button *ngIf='filter.year' (click)='filter.year= null' class='clear'>x</button>
      </th>
      <th>
        Actions
        <button *ngIf='filter.id || filter.title || filter.author || filter.year' (click)='clearFilter()' class='clear'>x</button>
      </th>
    </thead>

    <tbody>
      <tr *ngFor='let book of books | search:filter' (click)='onSelect(book)' [routerLink]="['books', book.id]">
        <td>{{ book.id }}</td>
        <td>{{ book.title | titleize }}</td>
        <td>{{ book.author }}</td>
        <td>{{ book.year }}</td>
        <td (click)='onClick($event)'>
          <button (click)='onDelete(book)'>delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</section>


<!-- <app-book-detail [book]='selectedBook'></app-book-detail> -->
